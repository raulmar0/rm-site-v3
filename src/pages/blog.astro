---
import ProfileLayout from "../layouts/profile-layout.astro"
import Post from "../components/post.astro"

const response = await fetch('https://dev.to/api/articles?username=raulmar');
const data = await response.json();
const posts = data;

// console.log(posts);

---

<ProfileLayout currentUrl="blog">
  { posts.map((post: any) => (
    <Post
      profilePic={post.user.profile_image_90}
      title={post.title}
      description={post.description}
      thumbnail={post.cover_image}
      buttonsObj={{ 'Read More': post.url }}
      url={post.url}
      useServerUrl={false}
    />
  ))
  }
</ProfileLayout>
