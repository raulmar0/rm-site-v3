---
const { tabs } = Astro.props;


// const urlResult = Astro.url.pathname.match(/\/([^\/]+)$/);
// const currentUrl = urlResult ? urlResult[1] : null;
// console.log(Astro.url.pathname);
// console.log(currentUrl);

const currentUrl = await Astro.url.pathname;
console.log('currentUrl', currentUrl);
console.log('tab', `/${tabs[0].toLowerCase()}`);

---

<nav>
  <ul>
    {
      tabs.map(( tab: any) => (
        <li>
          <a 
          href={`/${tab.toLowerCase()}`}
          class:list={{ active: currentUrl === `/${tab.toLowerCase()}` }}
          >{tab}</a>
        </li>
      ))
    }
  </ul>
</nav>

<style>

@media (min-width: 480px) {
  nav {
    margin: 0 !important;
  }
}


li:has(a.active) {
  border-bottom: 2px solid var(--accent-color);
  box-sizing: border-box;
}


nav {
  height: 50px;
  margin: 0 20px;
}

nav > ul {
  list-style: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0;
  font-family: 'Inter', sans-serif;
  letter-spacing: var(--letter-spacing-xs);
  font-size: 1.8rem;
  font-weight: var(--font-weight-bold);
  height: 100%;
  border-bottom: 1px solid var(--border-color);
}

nav > ul > li {
  margin-right: 30px;
  height: 100%;
  display: flex;
  align-items: center;
}

nav > ul > li > a {
  text-decoration: none;
  color: var(--accent-color);
}

</style>